mergeInto(LibraryManager.library, {
KS_AddCard:function(conf, callbackId) {
    window.KSWASMSDK.KS_AddCard(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_AuthPrivateMessage:function(conf, callbackId) {
    window.KSWASMSDK.KS_AuthPrivateMessage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_Authorize:function(conf, callbackId) {
    window.KSWASMSDK.KS_Authorize(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CheckIsAddedToMyMiniProgram:function(conf, callbackId) {
    window.KSWASMSDK.KS_CheckIsAddedToMyMiniProgram(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CheckSession:function(conf, callbackId) {
    window.KSWASMSDK.KS_CheckSession(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ChooseImage:function(conf, callbackId) {
    window.KSWASMSDK.KS_ChooseImage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ChooseMedia:function(conf, callbackId) {
    window.KSWASMSDK.KS_ChooseMedia(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ChooseMessageFile:function(conf, callbackId) {
    window.KSWASMSDK.KS_ChooseMessageFile(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CloseBLEConnection:function(conf, callbackId) {
    window.KSWASMSDK.KS_CloseBLEConnection(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CloseBluetoothAdapter:function(conf, callbackId) {
    window.KSWASMSDK.KS_CloseBluetoothAdapter(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CompressImage:function(conf, callbackId) {
    window.KSWASMSDK.KS_CompressImage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CreateBLEConnection:function(conf, callbackId) {
    window.KSWASMSDK.KS_CreateBLEConnection(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CreateBLEPeripheralServer:function(conf, callbackId) {
    window.KSWASMSDK.KS_CreateBLEPeripheralServer(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ExitMiniProgram:function(conf, callbackId) {
    window.KSWASMSDK.KS_ExitMiniProgram(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ExitVoIPChat:function(conf, callbackId) {
    window.KSWASMSDK.KS_ExitVoIPChat(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_FaceDetect:function(conf, callbackId) {
    window.KSWASMSDK.KS_FaceDetect(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetAvailableAudioSources:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetAvailableAudioSources(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBLEDeviceCharacteristics:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBLEDeviceCharacteristics(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBLEDeviceRSSI:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBLEDeviceRSSI(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBLEDeviceServices:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBLEDeviceServices(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBLEMTU:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBLEMTU(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBackgroundFetchData:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBackgroundFetchData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBackgroundFetchToken:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBackgroundFetchToken(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBatteryInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBatteryInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBeacons:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBeacons(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBluetoothAdapterState:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBluetoothAdapterState(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetBluetoothDevices:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetBluetoothDevices(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetChannelsLiveInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetChannelsLiveInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetChannelsLiveNoticeInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetChannelsLiveNoticeInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetClipboardData:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetClipboardData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetConnectedBluetoothDevices:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetConnectedBluetoothDevices(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetExtConfig:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetExtConfig(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetFuzzyLocation:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetFuzzyLocation(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetGameClubData:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetGameClubData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetGroupEnterInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetGroupEnterInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetInferenceEnvInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetInferenceEnvInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetLocalIPAddress:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetLocalIPAddress(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetNetworkType:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetNetworkType(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetPrivacySetting:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetPrivacySetting(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetScreenBrightness:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetScreenBrightness(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetScreenRecordingState:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetScreenRecordingState(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetSetting:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetSetting(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetShareInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetShareInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetStorageInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetStorageInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetStorageSync:function(key){
    var res = window.KSWASMSDK.KS_GetStorageSync(_KSPointer_stringify_adaptor(key));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetSystemInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetSystemInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetSystemInfoAsync:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetSystemInfoAsync(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetUserInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetUserInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetUserInteractiveStorage:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetUserInteractiveStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetWeRunData:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetWeRunData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_HideKeyboard:function(conf, callbackId) {
    window.KSWASMSDK.KS_HideKeyboard(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_HideLoading:function(conf, callbackId) {
    window.KSWASMSDK.KS_HideLoading(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_HideShareMenu:function(conf, callbackId) {
    window.KSWASMSDK.KS_HideShareMenu(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_HideToast:function(conf, callbackId) {
    window.KSWASMSDK.KS_HideToast(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_InitFaceDetect:function(conf, callbackId) {
    window.KSWASMSDK.KS_InitFaceDetect(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_IsBluetoothDevicePaired:function(conf, callbackId) {
    window.KSWASMSDK.KS_IsBluetoothDevicePaired(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_JoinVoIPChat:function(conf, callbackId) {
    window.KSWASMSDK.KS_JoinVoIPChat(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_Login:function(conf, callbackId) {
    window.KSWASMSDK.KS_Login(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_MakeBluetoothPair:function(conf, callbackId) {
    window.KSWASMSDK.KS_MakeBluetoothPair(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_NavigateToMiniProgram:function(conf, callbackId) {
    window.KSWASMSDK.KS_NavigateToMiniProgram(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_NotifyBLECharacteristicValueChange:function(conf, callbackId) {
    window.KSWASMSDK.KS_NotifyBLECharacteristicValueChange(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenAppAuthorizeSetting:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenAppAuthorizeSetting(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenBluetoothAdapter:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenBluetoothAdapter(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenCard:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenCard(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenChannelsActivity:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenChannelsActivity(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenChannelsEvent:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenChannelsEvent(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenChannelsLive:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenChannelsLive(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenChannelsUserProfile:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenChannelsUserProfile(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenCustomerServiceChat:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenCustomerServiceChat(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenCustomerServiceConversation:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenCustomerServiceConversation(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenPrivacyContract:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenPrivacyContract(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenSetting:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenSetting(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenSystemBluetoothSetting:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenSystemBluetoothSetting(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_PreviewImage:function(conf, callbackId) {
    window.KSWASMSDK.KS_PreviewImage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_PreviewMedia:function(conf, callbackId) {
    window.KSWASMSDK.KS_PreviewMedia(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ReadBLECharacteristicValue:function(conf, callbackId) {
    window.KSWASMSDK.KS_ReadBLECharacteristicValue(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RemoveStorage:function(conf, callbackId) {
    window.KSWASMSDK.KS_RemoveStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RemoveUserCloudStorage:function(conf, callbackId) {
    window.KSWASMSDK.KS_RemoveUserCloudStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ReportScene:function(conf, callbackId) {
    window.KSWASMSDK.KS_ReportScene(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestMidasFriendPayment:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestMidasFriendPayment(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestMidasPayment:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestMidasPayment(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestSubscribeMessage:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestSubscribeMessage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestSubscribeSystemMessage:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestSubscribeSystemMessage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequirePrivacyAuthorize:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequirePrivacyAuthorize(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RestartMiniProgram:function(conf, callbackId) {
    window.KSWASMSDK.KS_RestartMiniProgram(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SaveFileToDisk:function(conf, callbackId) {
    window.KSWASMSDK.KS_SaveFileToDisk(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SaveImageToPhotosAlbum:function(conf, callbackId) {
    window.KSWASMSDK.KS_SaveImageToPhotosAlbum(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ScanCode:function(conf, callbackId) {
    window.KSWASMSDK.KS_ScanCode(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetBLEMTU:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetBLEMTU(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetBackgroundFetchToken:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetBackgroundFetchToken(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetClipboardData:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetClipboardData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetDeviceOrientation:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetDeviceOrientation(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetEnableDebug:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetEnableDebug(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetInnerAudioOption:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetInnerAudioOption(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetKeepScreenOn:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetKeepScreenOn(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetMenuStyle:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetMenuStyle(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetScreenBrightness:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetScreenBrightness(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetStatusBarStyle:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetStatusBarStyle(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetUserCloudStorage:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetUserCloudStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_SetVisualEffectOnCapture:function(conf, callbackId) {
    window.KSWASMSDK.KS_SetVisualEffectOnCapture(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowActionSheet:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowActionSheet(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowKeyboard:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowKeyboard(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowLoading:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowLoading(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowModal:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowModal(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowShareImageMenu:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowShareImageMenu(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowShareMenu:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowShareMenu(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShowToast:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShowToast(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartAccelerometer:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartAccelerometer(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartBeaconDiscovery:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartBeaconDiscovery(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartBluetoothDevicesDiscovery:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartBluetoothDevicesDiscovery(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartCompass:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartCompass(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartDeviceMotionListening:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartDeviceMotionListening(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopAccelerometer:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopAccelerometer(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopBeaconDiscovery:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopBeaconDiscovery(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopBluetoothDevicesDiscovery:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopBluetoothDevicesDiscovery(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopCompass:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopCompass(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopDeviceMotionListening:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopDeviceMotionListening(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StopFaceDetect:function(conf, callbackId) {
    window.KSWASMSDK.KS_StopFaceDetect(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_UpdateKeyboard:function(conf, callbackId) {
    window.KSWASMSDK.KS_UpdateKeyboard(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_UpdateShareMenu:function(conf, callbackId) {
    window.KSWASMSDK.KS_UpdateShareMenu(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_UpdateVoIPChatMuteConfig:function(conf, callbackId) {
    window.KSWASMSDK.KS_UpdateVoIPChatMuteConfig(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_VibrateLong:function(conf, callbackId) {
    window.KSWASMSDK.KS_VibrateLong(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_VibrateShort:function(conf, callbackId) {
    window.KSWASMSDK.KS_VibrateShort(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_WriteBLECharacteristicValue:function(conf, callbackId) {
    window.KSWASMSDK.KS_WriteBLECharacteristicValue(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_StartGameLive:function(conf, callbackId) {
    window.KSWASMSDK.KS_StartGameLive(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CheckGameLiveEnabled:function(conf, callbackId) {
    window.KSWASMSDK.KS_CheckGameLiveEnabled(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetUserCurrentGameliveInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetUserCurrentGameliveInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetUserRecentGameLiveInfo:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetUserRecentGameLiveInfo(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_GetUserGameLiveDetails:function(conf, callbackId) {
    window.KSWASMSDK.KS_GetUserGameLiveDetails(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenChannelsLiveCollection:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenChannelsLiveCollection(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenPage:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenPage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestMidasPaymentGameItem:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestMidasPaymentGameItem(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_RequestSubscribeLiveActivity:function(conf, callbackId) {
    window.KSWASMSDK.KS_RequestSubscribeLiveActivity(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OpenBusinessView:function(conf, callbackId) {
    window.KSWASMSDK.KS_OpenBusinessView(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},

KS_ExitPointerLock:function() {
    window.KSWASMSDK.KS_ExitPointerLock();
},
KS_OperateGameRecorderVideo:function(option){
    window.KSWASMSDK.KS_OperateGameRecorderVideo(_KSPointer_stringify_adaptor(option));
},
KS_RemoveStorageSync:function(key){
    window.KSWASMSDK.KS_RemoveStorageSync(_KSPointer_stringify_adaptor(key));
},
KS_ReportEvent:function(eventId, data){
    window.KSWASMSDK.KS_ReportEvent(_KSPointer_stringify_adaptor(eventId), _KSPointer_stringify_adaptor(data));
},
KS_ReportMonitor:function(name, value){
    window.KSWASMSDK.KS_ReportMonitor(_KSPointer_stringify_adaptor(name), value);
},
KS_ReportPerformance:function(id, value, dimensions){
    window.KSWASMSDK.KS_ReportPerformance(id, value, _KSPointer_stringify_adaptor(dimensions));
},
KS_ReportUserBehaviorBranchAnalytics:function(option){
    window.KSWASMSDK.KS_ReportUserBehaviorBranchAnalytics(_KSPointer_stringify_adaptor(option));
},
KS_RequestPointerLock:function() {
    window.KSWASMSDK.KS_RequestPointerLock();
},
KS_ReserveChannelsLive:function(option){
    window.KSWASMSDK.KS_ReserveChannelsLive(_KSPointer_stringify_adaptor(option));
},
KS_RevokeBufferURL:function(url){
    window.KSWASMSDK.KS_RevokeBufferURL(_KSPointer_stringify_adaptor(url));
},
KS_SetPreferredFramesPerSecond:function(fps){
    window.KSWASMSDK.KS_SetPreferredFramesPerSecond(fps);
},
KS_SetStorageSync:function(key, data){
    window.KSWASMSDK.KS_SetStorageSync(_KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(data));
},
KS_SetStorage:function(conf, callbackId){
    window.KSWASMSDK.KS_SetStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShareAppMessage:function(conf, callbackId) {
    window.KSWASMSDK.KS_ShareAppMessage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KSOnShareAppMessage:function(conf, isPromise) {
    window.KSWASMSDK.KSOnShareAppMessage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(isPromise));
},
KSOnShareAppMessageResolve:function(conf) {
    window.KSWASMSDK.KSOnShareAppMessageResolve(_KSPointer_stringify_adaptor(conf));
},
KS_TriggerGC:function() {
    window.KSWASMSDK.KS_TriggerGC();
},
KS_RequestGamePayment: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_RequestGamePayment(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_NavigateToScene: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_NavigateToScene(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ChooseVideoAndPublish: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_ChooseVideoAndPublish(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_ShareImageToGameClub: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_ShareImageToGameClub(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_NotifyMiniProgramPlayableStatus:function(conf) {
    window.KSWASMSDK.KS_NotifyMiniProgramPlayableStatus(_KSPointer_stringify_adaptor(conf));
},
KS_OpenUrl: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_OpenUrl(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_JumpToGameClub: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_JumpToGameClub(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_AddCommonUse: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_AddCommonUse(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_CheckCommonUse: function(conf, callbackId){
    window.GameGlobal.KSWASMSDK.KS_CheckCommonUse(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
},
KS_OnAccelerometerChange:function() {
    window.KSWASMSDK.KS_OnAccelerometerChange();
},
KS_OffAccelerometerChange:function() {
    window.KSWASMSDK.KS_OffAccelerometerChange();
},
KS_OnAudioInterruptionBegin:function() {
    window.KSWASMSDK.KS_OnAudioInterruptionBegin();
},
KS_OffAudioInterruptionBegin:function() {
    window.KSWASMSDK.KS_OffAudioInterruptionBegin();
},
KS_OnAudioInterruptionEnd:function() {
    window.KSWASMSDK.KS_OnAudioInterruptionEnd();
},
KS_OffAudioInterruptionEnd:function() {
    window.KSWASMSDK.KS_OffAudioInterruptionEnd();
},
KS_OnBLEConnectionStateChange:function() {
    window.KSWASMSDK.KS_OnBLEConnectionStateChange();
},
KS_OffBLEConnectionStateChange:function() {
    window.KSWASMSDK.KS_OffBLEConnectionStateChange();
},
KS_OnBLEMTUChange:function() {
    window.KSWASMSDK.KS_OnBLEMTUChange();
},
KS_OffBLEMTUChange:function() {
    window.KSWASMSDK.KS_OffBLEMTUChange();
},
KS_OnBLEPeripheralConnectionStateChanged:function() {
    window.KSWASMSDK.KS_OnBLEPeripheralConnectionStateChanged();
},
KS_OffBLEPeripheralConnectionStateChanged:function() {
    window.KSWASMSDK.KS_OffBLEPeripheralConnectionStateChanged();
},
KS_OnBackgroundFetchData:function() {
    window.KSWASMSDK.KS_OnBackgroundFetchData();
},
KS_OnBeaconServiceChange:function() {
    window.KSWASMSDK.KS_OnBeaconServiceChange();
},
KS_OffBeaconServiceChange:function() {
    window.KSWASMSDK.KS_OffBeaconServiceChange();
},
KS_OnBeaconUpdate:function() {
    window.KSWASMSDK.KS_OnBeaconUpdate();
},
KS_OffBeaconUpdate:function() {
    window.KSWASMSDK.KS_OffBeaconUpdate();
},
KS_OnBluetoothAdapterStateChange:function() {
    window.KSWASMSDK.KS_OnBluetoothAdapterStateChange();
},
KS_OffBluetoothAdapterStateChange:function() {
    window.KSWASMSDK.KS_OffBluetoothAdapterStateChange();
},
KS_OnBluetoothDeviceFound:function() {
    window.KSWASMSDK.KS_OnBluetoothDeviceFound();
},
KS_OffBluetoothDeviceFound:function() {
    window.KSWASMSDK.KS_OffBluetoothDeviceFound();
},
KS_OnCompassChange:function() {
    window.KSWASMSDK.KS_OnCompassChange();
},
KS_OffCompassChange:function() {
    window.KSWASMSDK.KS_OffCompassChange();
},
KS_OnDeviceMotionChange:function() {
    window.KSWASMSDK.KS_OnDeviceMotionChange();
},
KS_OffDeviceMotionChange:function() {
    window.KSWASMSDK.KS_OffDeviceMotionChange();
},
KS_OnDeviceOrientationChange:function() {
    window.KSWASMSDK.KS_OnDeviceOrientationChange();
},
KS_OffDeviceOrientationChange:function() {
    window.KSWASMSDK.KS_OffDeviceOrientationChange();
},
KS_OnError:function() {
    window.KSWASMSDK.KS_OnError();
},
KS_OffError:function() {
    window.KSWASMSDK.KS_OffError();
},
KS_OnHide:function() {
    window.KSWASMSDK.KS_OnHide();
},
KS_OffHide:function() {
    window.KSWASMSDK.KS_OffHide();
},
KS_OnInteractiveStorageModified:function() {
    window.KSWASMSDK.KS_OnInteractiveStorageModified();
},
KS_OffInteractiveStorageModified:function() {
    window.KSWASMSDK.KS_OffInteractiveStorageModified();
},
KS_OnKeyDown:function() {
    window.KSWASMSDK.KS_OnKeyDown();
},
KS_OffKeyDown:function() {
    window.KSWASMSDK.KS_OffKeyDown();
},
KS_OnKeyUp:function() {
    window.KSWASMSDK.KS_OnKeyUp();
},
KS_OffKeyUp:function() {
    window.KSWASMSDK.KS_OffKeyUp();
},
KS_OnKeyboardComplete:function() {
    window.KSWASMSDK.KS_OnKeyboardComplete();
},
KS_OffKeyboardComplete:function() {
    window.KSWASMSDK.KS_OffKeyboardComplete();
},
KS_OnKeyboardConfirm:function() {
    window.KSWASMSDK.KS_OnKeyboardConfirm();
},
KS_OffKeyboardConfirm:function() {
    window.KSWASMSDK.KS_OffKeyboardConfirm();
},
KS_OnKeyboardHeightChange:function() {
    window.KSWASMSDK.KS_OnKeyboardHeightChange();
},
KS_OffKeyboardHeightChange:function() {
    window.KSWASMSDK.KS_OffKeyboardHeightChange();
},
KS_OnKeyboardInput:function() {
    window.KSWASMSDK.KS_OnKeyboardInput();
},
KS_OffKeyboardInput:function() {
    window.KSWASMSDK.KS_OffKeyboardInput();
},
KS_OnMemoryWarning:function() {
    window.KSWASMSDK.KS_OnMemoryWarning();
},
KS_OffMemoryWarning:function() {
    window.KSWASMSDK.KS_OffMemoryWarning();
},
KS_OnMessage:function() {
    window.KSWASMSDK.KS_OnMessage();
},
KS_OnMouseDown:function() {
    window.KSWASMSDK.KS_OnMouseDown();
},
KS_OffMouseDown:function() {
    window.KSWASMSDK.KS_OffMouseDown();
},
KS_OnMouseMove:function() {
    window.KSWASMSDK.KS_OnMouseMove();
},
KS_OffMouseMove:function() {
    window.KSWASMSDK.KS_OffMouseMove();
},
KS_OnMouseUp:function() {
    window.KSWASMSDK.KS_OnMouseUp();
},
KS_OffMouseUp:function() {
    window.KSWASMSDK.KS_OffMouseUp();
},
KS_OnNetworkStatusChange:function() {
    window.KSWASMSDK.KS_OnNetworkStatusChange();
},
KS_OffNetworkStatusChange:function() {
    window.KSWASMSDK.KS_OffNetworkStatusChange();
},
KS_OnNetworkWeakChange:function() {
    window.KSWASMSDK.KS_OnNetworkWeakChange();
},
KS_OffNetworkWeakChange:function() {
    window.KSWASMSDK.KS_OffNetworkWeakChange();
},
KS_OnScreenRecordingStateChanged:function() {
    window.KSWASMSDK.KS_OnScreenRecordingStateChanged();
},
KS_OffScreenRecordingStateChanged:function() {
    window.KSWASMSDK.KS_OffScreenRecordingStateChanged();
},
KS_OnShareMessageToFriend:function() {
    window.KSWASMSDK.KS_OnShareMessageToFriend();
},
KS_OnShow:function() {
    window.KSWASMSDK.KS_OnShow();
},
KS_OffShow:function() {
    window.KSWASMSDK.KS_OffShow();
},
KS_OnUnhandledRejection:function() {
    window.KSWASMSDK.KS_OnUnhandledRejection();
},
KS_OffUnhandledRejection:function() {
    window.KSWASMSDK.KS_OffUnhandledRejection();
},
KS_OnUserCaptureScreen:function() {
    window.KSWASMSDK.KS_OnUserCaptureScreen();
},
KS_OffUserCaptureScreen:function() {
    window.KSWASMSDK.KS_OffUserCaptureScreen();
},
KS_OnVoIPChatInterrupted:function() {
    window.KSWASMSDK.KS_OnVoIPChatInterrupted();
},
KS_OffVoIPChatInterrupted:function() {
    window.KSWASMSDK.KS_OffVoIPChatInterrupted();
},
KS_OnVoIPChatMembersChanged:function() {
    window.KSWASMSDK.KS_OnVoIPChatMembersChanged();
},
KS_OffVoIPChatMembersChanged:function() {
    window.KSWASMSDK.KS_OffVoIPChatMembersChanged();
},
KS_OnVoIPChatSpeakersChanged:function() {
    window.KSWASMSDK.KS_OnVoIPChatSpeakersChanged();
},
KS_OffVoIPChatSpeakersChanged:function() {
    window.KSWASMSDK.KS_OffVoIPChatSpeakersChanged();
},
KS_OnVoIPChatStateChanged:function() {
    window.KSWASMSDK.KS_OnVoIPChatStateChanged();
},
KS_OffVoIPChatStateChanged:function() {
    window.KSWASMSDK.KS_OffVoIPChatStateChanged();
},
KS_OnWheel:function() {
    window.KSWASMSDK.KS_OnWheel();
},
KS_OffWheel:function() {
    window.KSWASMSDK.KS_OffWheel();
},
KS_OnWindowResize:function() {
    window.KSWASMSDK.KS_OnWindowResize();
},
KS_OffWindowResize:function() {
    window.KSWASMSDK.KS_OffWindowResize();
},
KS_OnAddToFavorites:function() {
    window.KSWASMSDK.KS_OnAddToFavorites();
},
KS_OffAddToFavorites:function() {
    window.KSWASMSDK.KS_OffAddToFavorites();
},
KS_OnAddToFavorites_Resolve:function(conf){
    window.KSWASMSDK.KS_OnAddToFavorites_Resolve(_KSPointer_stringify_adaptor(conf));
},
KS_OnClickCloseButtonAction:function() {
    window.KSWASMSDK.KS_OnClickCloseButtonAction();
},
KS_OffClickCloseButtonAction:function() {
    window.KSWASMSDK.KS_OffClickCloseButtonAction();
},
KS_OnCopyUrl:function() {
    window.KSWASMSDK.KS_OnCopyUrl();
},
KS_OffCopyUrl:function() {
    window.KSWASMSDK.KS_OffCopyUrl();
},
KS_OnCopyUrl_Resolve:function(conf){
    window.KSWASMSDK.KS_OnCopyUrl_Resolve(_KSPointer_stringify_adaptor(conf));
},
KS_OnHandoff:function() {
    window.KSWASMSDK.KS_OnHandoff();
},
KS_OffHandoff:function() {
    window.KSWASMSDK.KS_OffHandoff();
},
KS_OnHandoff_Resolve:function(conf){
    window.KSWASMSDK.KS_OnHandoff_Resolve(_KSPointer_stringify_adaptor(conf));
},
KS_OnShareTimeline:function() {
    window.KSWASMSDK.KS_OnShareTimeline();
},
KS_OffShareTimeline:function() {
    window.KSWASMSDK.KS_OffShareTimeline();
},
KS_OnShareTimeline_Resolve:function(conf){
    window.KSWASMSDK.KS_OnShareTimeline_Resolve(_KSPointer_stringify_adaptor(conf));
},
KS_OnGameLiveStateChange:function() {
    window.KSWASMSDK.KS_OnGameLiveStateChange();
},
KS_OffGameLiveStateChange:function() {
    window.KSWASMSDK.KS_OffGameLiveStateChange();
},
KS_OnGameLiveStateChange_Resolve:function(conf){
    window.KSWASMSDK.KS_OnGameLiveStateChange_Resolve(_KSPointer_stringify_adaptor(conf));
},
KS_AddShortcut: function (conf, callbackId) {
    window.GameGlobal.KSWASMSDK.KS_AddShortcut(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
},
KS_CheckShortcut: function (conf, callbackId) {
    window.GameGlobal.KSWASMSDK.KS_CheckShortcut(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
},
KS_IsLaunchFromShortcut: function(){
    var res = window.KSWASMSDK.KS_IsLaunchFromShortcut();
    return res;
},
KS_CheckSliderBarIsAvailable: function (conf, callbackId) {
    window.GameGlobal.KSWASMSDK.KS_CheckSliderBarIsAvailable(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
},
KS_CheckFollowState: function (conf, callbackId) {
    window.GameGlobal.KSWASMSDK.KS_CheckFollowState(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
},
KS_OpenUserProfile: function (conf, callbackId) {
    window.GameGlobal.KSWASMSDK.KS_OpenUserProfile(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
},
KS_SetHandoffQuery:function(
    query
){
    var res = window.KSWASMSDK.KS_SetHandoffQuery(_KSPointer_stringify_adaptor(query));
    return res;
},
KS_GetAccountInfoSync:function(
){
    var res = window.KSWASMSDK.KS_GetAccountInfoSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetAppAuthorizeSetting:function(
){
    var res = window.KSWASMSDK.KS_GetAppAuthorizeSetting();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetAppBaseInfo:function(
){
    var res = window.KSWASMSDK.KS_GetAppBaseInfo();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetBatteryInfoSync:function(
){
    var res = window.KSWASMSDK.KS_GetBatteryInfoSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetDeviceInfo:function(
){
    var res = window.KSWASMSDK.KS_GetDeviceInfo();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetEnterOptionsSync:function(
){
    var res = window.KSWASMSDK.KS_GetEnterOptionsSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetExptInfoSync:function(
    keys
){
    var res = window.KSWASMSDK.KS_GetExptInfoSync(_KSPointer_stringify_adaptor(keys));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetExtConfigSync:function(
){
    var res = window.KSWASMSDK.KS_GetExtConfigSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetLaunchOptionsSync:function(
){
    var res = window.KSWASMSDK.KS_GetLaunchOptionsSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetMenuButtonBoundingClientRect:function(
){
    var res = window.KSWASMSDK.KS_GetMenuButtonBoundingClientRect();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetStorageInfoSync:function(
){
    var res = window.KSWASMSDK.KS_GetStorageInfoSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetSystemInfoSync:function(
){
    var res = window.KSWASMSDK.KS_GetSystemInfoSync();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetSystemSetting:function(
){
    var res = window.KSWASMSDK.KS_GetSystemSetting();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetWindowInfo:function(
){
    var res = window.KSWASMSDK.KS_GetWindowInfo();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_CreateImageData:function(
){
    var res = window.KSWASMSDK.KS_CreateImageData();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_CreatePath2D:function(
){
    var res = window.KSWASMSDK.KS_CreatePath2D();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_IsPointerLocked:function(
){
    var res = window.KSWASMSDK.KS_IsPointerLocked();
    return res;
},
KS_IsVKSupport:function(
    version
){
    var res = window.KSWASMSDK.KS_IsVKSupport(_KSPointer_stringify_adaptor(version));
    return res;
},
KS_SetCursor:function(
    path,x,y
){
    var res = window.KSWASMSDK.KS_SetCursor(_KSPointer_stringify_adaptor(path),x,y);
    return res;
},
KS_SetMessageToFriendQuery:function(
    option
){
    var res = window.KSWASMSDK.KS_SetMessageToFriendQuery(_KSPointer_stringify_adaptor(option));
    return res;
},
KS_GetTextLineHeight:function(
    option
){
    var res = window.KSWASMSDK.KS_GetTextLineHeight(_KSPointer_stringify_adaptor(option));
    return res;
},
KS_LoadFont:function(
    path
){
    var res = window.KSWASMSDK.KS_LoadFont(_KSPointer_stringify_adaptor(path));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetGameLiveState:function(
){
    var res = window.KSWASMSDK.KS_GetGameLiveState();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},

KS_DownloadFile:function(conf) {
    var res = window.KSWASMSDK.KS_DownloadFile(_KSPointer_stringify_adaptor(conf));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_CreateFeedbackButton:function(option) {
    var res = window.KSWASMSDK.KS_CreateFeedbackButton(_KSPointer_stringify_adaptor(option));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetLogManager:function(option) {
    var res = window.KSWASMSDK.KS_GetLogManager(_KSPointer_stringify_adaptor(option));
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetRealtimeLogManager:function() {
    var res = window.KSWASMSDK.KS_GetRealtimeLogManager();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_GetUpdateManager:function() {
    var res = window.KSWASMSDK.KS_GetUpdateManager();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_CreateVideoDecoder:function() {
    var res = window.KSWASMSDK.KS_CreateVideoDecoder();
    var bufferSize = lengthBytesUTF8(res || '') + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},

KS_DownloadTaskAbort:function(id) {
    window.KSWASMSDK.KS_DownloadTaskAbort(_KSPointer_stringify_adaptor(id));
},
KS_DownloadTaskOffHeadersReceived:function(id) {
    window.KSWASMSDK.KS_DownloadTaskOffHeadersReceived(_KSPointer_stringify_adaptor(id));
},
KS_DownloadTaskOffProgressUpdate:function(id) {
    window.KSWASMSDK.KS_DownloadTaskOffProgressUpdate(_KSPointer_stringify_adaptor(id));
},
KS_DownloadTaskOnHeadersReceived:function(id) {
    window.KSWASMSDK.KS_DownloadTaskOnHeadersReceived(_KSPointer_stringify_adaptor(id));
},
KS_DownloadTaskOnProgressUpdate:function(id) {
    window.KSWASMSDK.KS_DownloadTaskOnProgressUpdate(_KSPointer_stringify_adaptor(id));
},
KSFeedbackButtonSetProperty: function(id, key, value) {
  window.KSWASMSDK.KSFeedbackButtonSetProperty(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(value));
},
KS_FeedbackButtonDestroy:function(id) {
    window.KSWASMSDK.KS_FeedbackButtonDestroy(_KSPointer_stringify_adaptor(id));
},
KS_FeedbackButtonHide:function(id) {
    window.KSWASMSDK.KS_FeedbackButtonHide(_KSPointer_stringify_adaptor(id));
},
KS_FeedbackButtonOffTap:function(id) {
    window.KSWASMSDK.KS_FeedbackButtonOffTap(_KSPointer_stringify_adaptor(id));
},
KS_FeedbackButtonOnTap:function(id) {
    window.KSWASMSDK.KS_FeedbackButtonOnTap(_KSPointer_stringify_adaptor(id));
},
KS_FeedbackButtonShow:function(id) {
    window.KSWASMSDK.KS_FeedbackButtonShow(_KSPointer_stringify_adaptor(id));
},
KS_LogManagerDebug:function(id, args) {
    window.KSWASMSDK.KS_LogManagerDebug(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_LogManagerInfo:function(id, args) {
    window.KSWASMSDK.KS_LogManagerInfo(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_LogManagerLog:function(id, args) {
    window.KSWASMSDK.KS_LogManagerLog(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_LogManagerWarn:function(id, args) {
    window.KSWASMSDK.KS_LogManagerWarn(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_RealtimeLogManagerAddFilterMsg:function(id, msg) {
    window.KSWASMSDK.KS_RealtimeLogManagerAddFilterMsg(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(msg));
},
KS_RealtimeLogManagerError:function(id, args) {
    window.KSWASMSDK.KS_RealtimeLogManagerError(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_RealtimeLogManagerInfo:function(id, args) {
    window.KSWASMSDK.KS_RealtimeLogManagerInfo(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_RealtimeLogManagerSetFilterMsg:function(id, msg) {
    window.KSWASMSDK.KS_RealtimeLogManagerSetFilterMsg(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(msg));
},
KS_RealtimeLogManagerWarn:function(id, args) {
    window.KSWASMSDK.KS_RealtimeLogManagerWarn(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(args));
},
KS_UpdateManagerApplyUpdate:function(id) {
    window.KSWASMSDK.KS_UpdateManagerApplyUpdate(_KSPointer_stringify_adaptor(id));
},
KS_UpdateManagerOnCheckForUpdate:function(id) {
    window.KSWASMSDK.KS_UpdateManagerOnCheckForUpdate(_KSPointer_stringify_adaptor(id));
},
KS_UpdateManagerOnUpdateFailed:function(id) {
    window.KSWASMSDK.KS_UpdateManagerOnUpdateFailed(_KSPointer_stringify_adaptor(id));
},
KS_UpdateManagerOnUpdateReady:function(id) {
    window.KSWASMSDK.KS_UpdateManagerOnUpdateReady(_KSPointer_stringify_adaptor(id));
},
KS_VideoDecoderGetFrameData:function(id) {
    var res = window.KSWASMSDK.KS_VideoDecoderGetFrameData(_KSPointer_stringify_adaptor(id));
    var bufferSize = lengthBytesUTF8(res) + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(res, buffer, bufferSize);
    return buffer;
},
KS_VideoDecoderRemove:function(id) {
    window.KSWASMSDK.KS_VideoDecoderRemove(_KSPointer_stringify_adaptor(id));
},
KS_VideoDecoderSeek:function(id, position) {
    window.KSWASMSDK.KS_VideoDecoderSeek(_KSPointer_stringify_adaptor(id), position);
},
KS_VideoDecoderStart:function(id, option) {
    window.KSWASMSDK.KS_VideoDecoderStart(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(option));
},
KS_VideoDecoderStop:function(id) {
    window.KSWASMSDK.KS_VideoDecoderStop(_KSPointer_stringify_adaptor(id));
},
KS_VideoDecoderOff:function(id, eventName) {
    window.KSWASMSDK.KS_VideoDecoderOff(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(eventName));
},
KS_VideoDecoderOn:function(id, eventName) {
    window.KSWASMSDK.KS_VideoDecoderOn(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(eventName));
},

})


mergeInto(LibraryManager.library, {
    KSPointer_stringify_adaptor:function(str){
        if (typeof UTF8ToString !== "undefined") {
            return UTF8ToString(str)
        }
        return Pointer_stringify(str)
    },
    glGenTextures: function (n, textures) {
        for (var i = 0; i < n; i++) {
            var texture = GLctx.createTexture();
            if (!texture) {
                GL.recordError(1282);
                while (i < n) HEAP32[textures + i++ * 4 >> 2] = 0;
                return
            }
            var id = GL.getNewId(GL.textures);
            texture.name = id;
            GL.textures[id] = texture;
            window._lastTextureId = id;
            HEAP32[textures + i * 4 >> 2] = id
        }
    },
    glBindTexture:function(target, texture) {
        window._lastBoundTexture = texture;
        GLctx.bindTexture(target, texture ? GL.textures[texture] : null)
    },
    KSInitializeSDK: function (version) {
        window.KSWASMSDK.KSInitializeSDK(_KSPointer_stringify_adaptor(version));
        if (typeof emscriptenMemoryProfiler !== "undefined")  {
            GameGlobal.memprofiler = emscriptenMemoryProfiler
            GameGlobal.memprofiler.onDump = function () {
            var fs = ks.getFileSystemManager();
            var allocation_used=GameGlobal.memprofiler.allocationsAtLoc; 
            if (typeof allocation_used === "undefined") allocation_used=GameGlobal.memprofiler.allocationSiteStatistics;
            var calls = [];
            for (var i in allocation_used) {
                    calls.push(i);
            }
            calls.sort((function (a, b) {
                return allocation_used[b][1] - allocation_used[a][1];
            }));

            console.log('KSHostDumpUnityHeap begin', Object.keys(allocation_used).length, calls.length);
            ks.getFileSystemManager().open({
                filePath: ks.env.USER_DATA_PATH + '/alloc_used.csv',
                flag: 'w',
                success: function(res) {
                    var ksfile = res.fd;
                    fs.write({
                        fd: ksfile,
                        data:'callback;count;size;malloc;free\r\n',
                        fail: function(res) {
                            console.error(res);
                        }
                    })
                    var errorCount = 0;
                    for (var i = 0; i < 100000 && i < calls.length; ++i) {
                        var callstack = calls[i];
                        var item = allocation_used[callstack];
                        if (typeof item === "undefined") {
                            // console.error('callstack not fond', callstack);
                            ++errorCount;
                            continue
                        }
                        var posOfThisFunc = callstack.indexOf('emscripten_trace_record_') + "emscripten_trace_record_".length;
                        if (posOfThisFunc != -1) callstack = callstack.substr(posOfThisFunc);
                        var posOfRaf = callstack.lastIndexOf("InitWebGLPlayeriPPc ");
                        if (posOfRaf != -1) callstack = callstack.substr(0, posOfRaf);
                        posOfRaf = callstack.lastIndexOf("InitPlayerLoopCallbacks");
                        if (posOfRaf != -1) callstack = callstack.substr(0, posOfRaf);

                        callstack = callstack.replace(/\(.*?\)/g, '')
                        callstack = callstack.replace(/[A-Z0-9]{40}/g, '')
                        callstack = callstack.replace(/\n/g, "<-")
                        callstack = callstack.replace(/_malloc <-.*?MemLabelId15AllocateOptions/g, '')
                        callstack = callstack.replace(/<-    at dynCall.*?at invoke_/g, '')
                        fs.write({
                            fd: ksfile,
                            data: callstack + ';' + item[0] + ';' + item[1] + ';' + item[2] + ';' + item[3] + '\r\n',
                            fail: function(res) {
                                console.error(res)
                            }
                        })
                    }
                    console.log("KSHostDumpUnityHeap end", errorCount)
                }
            })
        }
        }
    },
    KSStorageSetIntSync: function (key, value) {
        window.KSWASMSDK.KSStorageSetIntSync(_KSPointer_stringify_adaptor(key), value);
    },
    KSStorageGetIntSync: function (key, defaultValue) {
        return window.KSWASMSDK.KSStorageGetIntSync(_KSPointer_stringify_adaptor(key), defaultValue);
    },
    KSStorageSetFloatSync: function (key, value) {
        window.KSWASMSDK.KSStorageSetFloatSync(_KSPointer_stringify_adaptor(key), value);
    },
    KSStorageGetFloatSync: function (key, defaultValue) {
        return window.KSWASMSDK.KSStorageGetFloatSync(_KSPointer_stringify_adaptor(key), defaultValue);
    },
    KSStorageSetStringSync: function (key, value) {
        window.KSWASMSDK.KSStorageSetStringSync(_KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(value));
    },
    KSStorageGetStringSync: function (key, defaultValue) {
        var returnStr = window.KSWASMSDK.KSStorageGetStringSync(_KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(defaultValue));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSStorageDeleteAllSync: function () {
        window.KSWASMSDK.KSStorageDeleteAllSync();
    },
    KSStorageDeleteKeySync: function (key) {
        window.KSWASMSDK.KSStorageDeleteKeySync(_KSPointer_stringify_adaptor(key));
    },
    KSStorageHasKeySync: function (key) {
        return window.KSWASMSDK.KSStorageHasKeySync(_KSPointer_stringify_adaptor(key));
    },
    KSCheckSession: function (s, f, c) {
        window.KSWASMSDK.KSCheckSession(_KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSAuthorize: function (scope, s, f, c) {
        window.KSWASMSDK.KSAuthorize(_KSPointer_stringify_adaptor(scope), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSCreateUserInfoButton: function (x, y, width, height, lang, withCredentials) {
        var returnStr = window.KSWASMSDK.KSCreateUserInfoButton(x, y, width, height, _KSPointer_stringify_adaptor(lang), withCredentials);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSUserInfoButtonShow: function (id) {
        window.KSWASMSDK.KSUserInfoButtonShow(_KSPointer_stringify_adaptor(id));
    },
    KSUserInfoButtonDestroy: function (id) {
        window.KSWASMSDK.KSUserInfoButtonDestroy(_KSPointer_stringify_adaptor(id));
    },
    KSUserInfoButtonHide: function (id) {
        window.KSWASMSDK.KSUserInfoButtonHide(_KSPointer_stringify_adaptor(id));
    },
    KSUserInfoButtonOffTap: function (id) {
        window.KSWASMSDK.KSUserInfoButtonOffTap(_KSPointer_stringify_adaptor(id));
    },
    KSUserInfoButtonOnTap: function (id) {
        window.KSWASMSDK.KSUserInfoButtonOnTap(_KSPointer_stringify_adaptor(id));
    },
    KSCreateBannerAd: function (conf) {
        var returnStr = window.KSWASMSDK.KSCreateBannerAd(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCreateRewardedVideoAd: function (conf) {
        var returnStr = window.KSWASMSDK.KSCreateRewardedVideoAd(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGetFontRawData: function (conf, callbackId) {
        window.KSWASMSDK.KSGetFontRawData(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
    },
    KSShareFontBuffer:function(offset,callbackId){
        window.KSWASMSDK.KSShareFontBuffer(
            HEAPU8,
            offset,
            _KSPointer_stringify_adaptor(callbackId)
        )
    },
    KSRewardedVideoAdReportShareBehavior: function (id, conf) {
        var returnStr = window.KSWASMSDK.KSReportShareBehavior(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCreateInterstitialAd: function (conf) {
        var returnStr = window.KSWASMSDK.KSCreateInterstitialAd(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCreateCustomAd: function (conf) {
        var returnStr = window.KSWASMSDK.KSCreateCustomAd(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSADStyleChange: function (id, key, value) {
        window.KSWASMSDK.KSADStyleChange(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), value);
    },
    KSShowAd: function (id, s, f) {
        window.KSWASMSDK.KSShowAd(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f));
    },
    KSShowAd2: function (id,branchId,branchDim, s, f) {
        window.KSWASMSDK.KSShowAd2(_KSPointer_stringify_adaptor(id),_KSPointer_stringify_adaptor(branchId),_KSPointer_stringify_adaptor(branchDim), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f));
    },
    KSHideAd: function (id, s, f) {
        window.KSWASMSDK.KSHideAd(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f));
    },
    KSADGetStyleValue: function (id, key) {
        return window.KSWASMSDK.KSADGetStyleValue(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSADDestroy: function (id) {
        window.KSWASMSDK.KSADDestroy(_KSPointer_stringify_adaptor(id));
    },
    KSADLoad: function (id, succ, fail) {
        window.KSWASMSDK.KSADLoad(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(succ), _KSPointer_stringify_adaptor(fail));
    },
    KSToTempFilePath: function (conf, s, f, c) {
        window.KSWASMSDK.KSToTempFilePath(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c))
    },
    KSToTempFilePathSync: function (conf) {
        var returnStr = window.KSWASMSDK.KSToTempFilePathSync(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGetUserDataPath: function () {
        var returnStr = window.KSWASMSDK.KSGetUserDataPath();
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSWriteFileSync: function (filePath, data, encoding) {
        var returnStr = window.KSWASMSDK.KSWriteFileSync(_KSPointer_stringify_adaptor(filePath), _KSPointer_stringify_adaptor(data), _KSPointer_stringify_adaptor(encoding));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCreateFixedBottomMiddleBannerAd: function (adUnitId, adIntervals, height) {
        var returnStr = window.KSWASMSDK.KSCreateFixedBottomMiddleBannerAd(_KSPointer_stringify_adaptor(adUnitId), adIntervals, height);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSDataContextPostMessage: function (msg) {
        window.KSWASMSDK.KSDataContextPostMessage(_KSPointer_stringify_adaptor(msg));
    },
    KSShowOpenData: function (id, x, y, width, height) {
        window.KSWASMSDK.KSShowOpenData(id, x, y, width, height);
    },
    KSHideOpenData: function () {
        window.KSWASMSDK.KSHideOpenData();
    },
    KSReportGameStart: function () {
        window.KSWASMSDK.KSReportGameStart();
    },
    KSReportGameSceneError: function(sceneId, errorType, errStr, extJsonStr) {
        window.KSWASMSDK.KSReportGameSceneError(sceneId, errorType, _KSPointer_stringify_adaptor(errStr), _KSPointer_stringify_adaptor(extJsonStr));
    },
    KSWriteLog: function (str) {
        window.KSWASMSDK.KSWriteLog(_KSPointer_stringify_adaptor(str))
    },
    KSWriteWarn: function (str) {
        window.KSWASMSDK.KSWriteWarn(_KSPointer_stringify_adaptor(str))
    },
    KSPreloadConcurrent: function (count) {
        window.KSWASMSDK.KSPreloadConcurrent(count);
    },
    KSAccessFileSync: function (path) {
        var returnStr = window.KSWASMSDK.KSAccessFileSync(_KSPointer_stringify_adaptor(path));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSAccessFile: function (path, s, f, c) {
        return window.KSWASMSDK.KSAccessFile(_KSPointer_stringify_adaptor(path), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSCopyFileSync: function (srcPath, destPath) {
        var returnStr = window.KSWASMSDK.KSCopyFileSync(_KSPointer_stringify_adaptor(srcPath), _KSPointer_stringify_adaptor(destPath));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCopyFile: function (srcPath, destPath, s, f, c) {
        return window.KSWASMSDK.KSCopyFile(_KSPointer_stringify_adaptor(srcPath), _KSPointer_stringify_adaptor(destPath), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSUnlinkSync: function (filePath) {
        var returnStr = window.KSWASMSDK.KSUnlinkSync(_KSPointer_stringify_adaptor(filePath));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSUnlink: function (filePath, s, f, c) {
        return window.KSWASMSDK.KSUnlink(_KSPointer_stringify_adaptor(filePath), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSReportUserBehaviorBranchAnalytics: function (branchId, branchDim, eventType) {
        window.KSWASMSDK.KSReportUserBehaviorBranchAnalytics(_KSPointer_stringify_adaptor(branchId), _KSPointer_stringify_adaptor(branchDim), eventType);
    },
    KSCallFunction: function (name, data, conf, s, f, c) {
        window.KSWASMSDK.KSCallFunction(_KSPointer_stringify_adaptor(name), _KSPointer_stringify_adaptor(data), _KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSCallFunctionInit: function (conf) {
        window.KSWASMSDK.KSCallFunctionInit(_KSPointer_stringify_adaptor(conf));
    },
    KSCloudID: function (cloudID) {
        var returnStr = window.KSWASMSDK.KSCloudID(_KSPointer_stringify_adaptor(cloudID));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCreateInnerAudioContext: function (src, loop, startTime, autoplay, volume, playbackRate, needDownload) {
        var returnStr = window.KSWASMSDK.KSCreateInnerAudioContext(_KSPointer_stringify_adaptor(src), loop, startTime, autoplay, volume, playbackRate, needDownload);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSInnerAudioContextSetBool: function (id, k, v) {
        window.KSWASMSDK.KSInnerAudioContextSetBool(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(k), v);
    },
    KSInnerAudioContextSetString: function (id, k, v) {
        window.KSWASMSDK.KSInnerAudioContextSetString(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(k), _KSPointer_stringify_adaptor(v));
    },
    KSInnerAudioContextSetFloat: function (id, k, v) {
        window.KSWASMSDK.KSInnerAudioContextSetFloat(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(k), v);
    },
    KSInnerAudioContextGetFloat: function (id, k) {
        return window.KSWASMSDK.KSInnerAudioContextGetFloat(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(k));
    },
    KSInnerAudioContextGetBool: function (id, k) {
        return window.KSWASMSDK.KSInnerAudioContextGetBool(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(k));
    },
    KSInnerAudioContextPlay: function (id) {
        window.KSWASMSDK.KSInnerAudioContextPlay(_KSPointer_stringify_adaptor(id));
    },
    KSInnerAudioContextStop: function (id) {
        window.KSWASMSDK.KSInnerAudioContextStop(_KSPointer_stringify_adaptor(id));
    },
    KSInnerAudioContextPause: function (id) {
        window.KSWASMSDK.KSInnerAudioContextPause(_KSPointer_stringify_adaptor(id));
    },
    KSInnerAudioContextDestroy: function (id) {
        window.KSWASMSDK.KSInnerAudioContextDestroy(_KSPointer_stringify_adaptor(id));
    },
    KSInnerAudioContextSeek: function (id, position) {
        window.KSWASMSDK.KSInnerAudioContextSeek(_KSPointer_stringify_adaptor(id), position);
    },
    KSInnerAudioContextAddListener: function (id, key) {
        window.KSWASMSDK.KSInnerAudioContextAddListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSInnerAudioContextRemoveListener: function (id, key) {
        window.KSWASMSDK.KSInnerAudioContextRemoveListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSPreDownloadAudios: function (paths, id) {
        window.KSWASMSDK.KSPreDownloadAudios(_KSPointer_stringify_adaptor(paths), id);
    },
    KSSetDataCDN: function(path) {
        window.KSWASMSDK.KSSetDataCDN(_KSPointer_stringify_adaptor(path));
    },
    KSSetPreloadList: function(paths) {
        window.KSWASMSDK.KSSetPreloadList(_KSPointer_stringify_adaptor(paths));
    },
    KSCreateGameClubButton: function (conf) {
        var returnStr = window.KSWASMSDK.KSCreateGameClubButton(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGameClubButtonDestroy: function(id) {
        window.KSWASMSDK.KSGameClubButtonDestroy(_KSPointer_stringify_adaptor(id));
    },
    KSGameClubButtonHide: function(id) {
        window.KSWASMSDK.KSGameClubButtonHide(_KSPointer_stringify_adaptor(id));
    },
    KSGameClubButtonShow: function(id) {
        window.KSWASMSDK.KSGameClubButtonShow(_KSPointer_stringify_adaptor(id));
    },
    KSGameClubButtonAddListener: function(id, key) {
        window.KSWASMSDK.KSGameClubButtonAddListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSGameClubButtonRemoveListener: function(id, key) {
        window.KSWASMSDK.KSGameClubButtonRemoveListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSGameClubButtonSetProperty: function(id, key, value) {
        window.KSWASMSDK.KSGameClubButtonSetProperty(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(value));
    },
    KSGameClubStyleChangeInt: function(id, key, value) {
        window.KSWASMSDK.KSGameClubStyleChangeInt(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), value);
    },
    KSGameClubStyleChangeStr: function(id, key, value) {
        window.KSWASMSDK.KSGameClubStyleChangeStr(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(value));
    },
    KSCreateVideo: function(conf) {
        var returnStr = window.KSWASMSDK.KSCreateVideo(_KSPointer_stringify_adaptor(conf));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSVideoPlay: function(id) {
        window.KSWASMSDK.KSVideoPlay(_KSPointer_stringify_adaptor(id));
    },
    KSVideoAddListener: function(id,key) {
        window.KSWASMSDK.KSVideoAddListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSVideoDestroy: function(id) {
        window.KSWASMSDK.KSVideoDestroy(_KSPointer_stringify_adaptor(id));
    },
    KSVideoExitFullScreen: function(id) {
        window.KSWASMSDK.KSVideoExitFullScreen(_KSPointer_stringify_adaptor(id));
    },
    KSVideoPause: function(id){
        window.KSWASMSDK.KSVideoPause(_KSPointer_stringify_adaptor(id));
    },
    KSVideoRequestFullScreen:function(id,direction){
        window.KSWASMSDK.KSVideoRequestFullScreen(_KSPointer_stringify_adaptor(id),direction);
    },
    KSVideoSeek:function(id,time){
        window.KSWASMSDK.KSVideoSeek(_KSPointer_stringify_adaptor(id),time);
    },
    KSVideoStop:function(id){
       window.KSWASMSDK.KSVideoStop(_KSPointer_stringify_adaptor(id));
    },
    KSVideoRemoveListener:function(id,key){
        window.KSWASMSDK.KSVideoRemoveListener(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key));
    },
    KSHideLoadingPage: function() {
        window.KSWASMSDK && window.KSWASMSDK.KSHideLoadingPage()
    },
    KSWriteFile:function(filePath, data, dataLength, encoding, s, f, c) {
        window.KSWASMSDK.KSWriteFile(
            _KSPointer_stringify_adaptor(filePath),
            HEAPU8.slice(data, dataLength + data),
            _KSPointer_stringify_adaptor(encoding),
            _KSPointer_stringify_adaptor(s),
            _KSPointer_stringify_adaptor(f),
            _KSPointer_stringify_adaptor(c)
        )
    },
    KSWriteStringFile:function (filePath,data,encoding, s, f, c) {
        window.KSWASMSDK.KSWriteStringFile(
            _KSPointer_stringify_adaptor(filePath),
            _KSPointer_stringify_adaptor(data),
            _KSPointer_stringify_adaptor(encoding),
            _KSPointer_stringify_adaptor(s),
            _KSPointer_stringify_adaptor(f),
            _KSPointer_stringify_adaptor(c)
        )
    },
    KSAppendFile:function(filePath, data, dataLength, encoding, s, f, c) {
        window.KSWASMSDK.KSAppendFile(
            _KSPointer_stringify_adaptor(filePath),
            HEAPU8.slice(data, dataLength + data),
            _KSPointer_stringify_adaptor(encoding),
            _KSPointer_stringify_adaptor(s),
            _KSPointer_stringify_adaptor(f),
            _KSPointer_stringify_adaptor(c)
        )
    },
    KSAppendStringFile:function (filePath, data, encoding, s, f, c) {
        window.KSWASMSDK.KSAppendStringFile(
            _KSPointer_stringify_adaptor(filePath),
            _KSPointer_stringify_adaptor(data),
            _KSPointer_stringify_adaptor(encoding),
            _KSPointer_stringify_adaptor(s),
            _KSPointer_stringify_adaptor(f),
            _KSPointer_stringify_adaptor(c)
        )
    },
    KSWriteBinFileSync:function(filePath, data, dataLength, encoding) {
        var returnStr = window.KSWASMSDK.KSWriteBinFileSync(
            _KSPointer_stringify_adaptor(filePath),
            HEAPU8.slice(data, dataLength + data),
            _KSPointer_stringify_adaptor(encoding)
        );
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSReadFile:function(option, callbackId) {
        window.KSWASMSDK.KSReadFile(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KSReadFileSync:function(option) {
        var returnStr = window.KSWASMSDK.KSReadFileSync(_KSPointer_stringify_adaptor(option));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGetTotalMemorySize: function() {
        if (typeof TOTAL_MEMORY !== "undefined") {
            return TOTAL_MEMORY
        }
        if (wasmMemory && wasmMemory.buffer) {
            return wasmMemory.buffer.byteLength;
        }
        console.error('Fail to find wasmMemory.buffer, TotalMemorySize is not correct.');
        return 0;
    },
    KSGetTotalStackSize: function() {
        return TOTAL_STACK;
    },
    KSGetStaticMemorySize: function() {
        return STATICTOP - STATIC_BASE;
    },
    KSGetDynamicMemorySize: function() {
        if (typeof DYNAMIC_BASE !== "undefined") {
          return HEAP32[DYNAMICTOP_PTR >> 2] - DYNAMIC_BASE
        } 
        var heap_base = 7936880;
        if (typeof Module["___heap_base"] !== "undefined") {
            heap_base = Module["___heap_base"];
        }
        var heap_end = _sbrk();
        return heap_end - heap_base;
    },
    KSGetUsedMemorySize: function() {
         if (typeof emscriptenMemoryProfiler !== "undefined")  {
            return  emscriptenMemoryProfiler.totalMemoryAllocated;
        }
    },
    KSGetUnAllocatedMemorySize: function() {
        var heap_end = _sbrk()
        return HEAP8.length - heap_end
        return 0
    },
    KSGetEXFrameTime : function() {
        if(typeof GameGlobal.calcFrameTimeFunc == "undefined") 
        {
            GameGlobal.calcFrameTimeFunc = function () 
            {
                var frameCount = 0;
                var exTotalTime = 0;
                return function update(frameStart, frameEnd) {
                  frameCount++;
                  exTotalTime += (frameEnd - frameStart);
                  if (frameCount >= 60) {
                    GameGlobal.avgExFrameTime = exTotalTime / 60;
                    frameCount = 0;
                    exTotalTime = 0;
                  }
                };
            }();
        } 
        return GameGlobal.avgExFrameTime
    },
    KSProfilingMemoryDump: function() {
        if (typeof emscriptenMemoryProfiler !== "undefined")  {
            GameGlobal.memprofiler.onDump();
            ks.showModal({
                title: 'ProfilingMemory',
                content: 'OnDump Complete!'
            });
            return;
        }
        console.error('Please call KS.InitSDK & Select ProfilingMemory Option')  
    },
    KSLogManagerDebug:function(str){
        window.KSWASMSDK.KSLogManagerDebug(
            _KSPointer_stringify_adaptor(str)
        );
    },
    KSLogManagerInfo:function(str){
        window.KSWASMSDK.KSLogManagerInfo(
            _KSPointer_stringify_adaptor(str)
        );
    },
    KSLogManagerLog:function(str){
        window.KSWASMSDK.KSLogManagerLog(
            _KSPointer_stringify_adaptor(str)
        );
    },
    KSLogManagerWarn:function(str){
        window.KSWASMSDK.KSLogManagerWarn(
            _KSPointer_stringify_adaptor(str)
        );
    },
    KSIsCloudTest:function(){
        return window.KSWASMSDK.KSIsCloudTest();
    },
    KS_ClearStorageSync: function(){
        window.KSWASMSDK.KS_ClearStorageSync()
    },
    KS_GetStorage: function(conf, callbackId){
        window.KSWASMSDK.KS_GetStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_ClearStorage: function(conf, callbackId){
        window.KSWASMSDK.KS_ClearStorage(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
    },
    KSCleanAllFileCache:function() {
        var returnStr = window.KSWASMSDK.KSCleanAllFileCache();
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSCleanFileCache: function(fileSize) {
        var returnStr = window.KSWASMSDK.KSCleanFileCache(fileSize);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSRemoveFile: function(path) {
        var returnStr = window.KSWASMSDK.KSRemoveFile(_KSPointer_stringify_adaptor(path));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGetCachePath: function(url) {
        var returnStr = window.KSWASMSDK.KSGetCachePath(_KSPointer_stringify_adaptor(url));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSGetPluginCachePath: function() {
        var returnStr = window.KSWASMSDK.KSGetPluginCachePath();
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSOnLaunchProgress: function() {
        var returnStr = window.KSWASMSDK.KSOnLaunchProgress();
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSUncaughtException: function() {
       window.KSWASMSDK.KSUncaughtException(false);
    },
    KSMkdir:function(dirPath, recursive, s,  f,  c){
        window.KSWASMSDK.KSMkdir(_KSPointer_stringify_adaptor(dirPath), recursive, _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSMkdirSync: function (dirPath, recursive) {
        var returnStr = window.KSWASMSDK.KSMkdirSync(_KSPointer_stringify_adaptor(dirPath),recursive);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSRmdir: function(dirPath, recursive, s, f, c) {
        window.KSWASMSDK.KSRmdir(_KSPointer_stringify_adaptor(dirPath), recursive, _KSPointer_stringify_adaptor(s), _KSPointer_stringify_adaptor(f), _KSPointer_stringify_adaptor(c));
    },
    KSRmdirSync: function(dirPath, recursive) {
        var returnStr = window.KSWASMSDK.KSRmdirSync(_KSPointer_stringify_adaptor(dirPath),recursive);
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },

    KSCameraCreateCamera: function (option, callbackId) {
        window.KSWASMSDK.KSCameraCreateCamera(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },

    KSCameraCloseFrameChange: function (id) {
        window.KSWASMSDK.KSCameraCloseFrameChange(_KSPointer_stringify_adaptor(id));
    },

    KSCameraDestroy: function (id) {
        window.KSWASMSDK.KSCameraDestroy(_KSPointer_stringify_adaptor(id));
    },

    KSCameraListenFrameChange: function (id) {
        window.KSWASMSDK.KSCameraListenFrameChange(_KSPointer_stringify_adaptor(id));
    },

    KSCameraOnAuthCancel: function (id) {
        window.KSWASMSDK.KSCameraOnAuthCancel(_KSPointer_stringify_adaptor(id));
    },

    KSCameraOnCameraFrame: function (id) {
        window.KSWASMSDK.KSCameraOnCameraFrame(_KSPointer_stringify_adaptor(id));
    },

    KSCameraOnStop:function (id) {
        window.KSWASMSDK.KSCameraOnStop(_KSPointer_stringify_adaptor(id));
    },

    KS_GetRecorderManager:function(
    ){
            var res = window.KSWASMSDK.KS_GetRecorderManager();
            var bufferSize = lengthBytesUTF8(res || '') + 1;
            var buffer = _malloc(bufferSize);
            stringToUTF8(res, buffer, bufferSize);
            return buffer;
    },

    KS_OnRecorderError:function(id){
        window.KSWASMSDK.KS_OnRecorderError(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderFrameRecorded:function(id){
        window.KSWASMSDK.KS_OnRecorderFrameRecorded(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderInterruptionBegin:function(id){
        window.KSWASMSDK.KS_OnRecorderInterruptionBegin(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderInterruptionEnd:function(id){
        window.KSWASMSDK.KS_OnRecorderInterruptionEnd(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderPause:function(id){
        window.KSWASMSDK.KS_OnRecorderPause(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderResume:function(id){
        window.KSWASMSDK.KS_OnRecorderResume(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderStart:function(id){
        window.KSWASMSDK.KS_OnRecorderStart(_KSPointer_stringify_adaptor(id));
    },
    KS_OnRecorderStop:function(id){
        window.KSWASMSDK.KS_OnRecorderStop(_KSPointer_stringify_adaptor(id));
    },
    KS_RecorderPause:function(id){
        window.KSWASMSDK.KS_RecorderPause(_KSPointer_stringify_adaptor(id));
    },
    KS_RecorderResume:function(id){
        window.KSWASMSDK.KS_RecorderResume(_KSPointer_stringify_adaptor(id));
    },
    KS_RecorderStart:function(id,option){
        window.KSWASMSDK.KS_RecorderStart(_KSPointer_stringify_adaptor(id),_KSPointer_stringify_adaptor(option));
    },
    KS_RecorderStop:function(id){
        window.KSWASMSDK.KS_RecorderStop(_KSPointer_stringify_adaptor(id));
    },
    KS_UploadFile:function(conf, callbackId){
        window.KSWASMSDK.KS_UploadFile(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId));
    },
    KSUploadTaskAbort:function(id){
        window.KSWASMSDK.KSUploadTaskAbort(_KSPointer_stringify_adaptor(id));
    },
    KSUploadTaskOffHeadersReceived:function(id){
        window.KSWASMSDK.KSUploadTaskOffHeadersReceived(_KSPointer_stringify_adaptor(id));
    },
    KSUploadTaskOffProgressUpdate:function(id){
        window.KSWASMSDK.KSUploadTaskOffProgressUpdate(_KSPointer_stringify_adaptor(id));
    },
    KSUploadTaskOnHeadersReceived:function(id){
        window.KSWASMSDK.KSUploadTaskOnHeadersReceived(_KSPointer_stringify_adaptor(id));
    },
    KSUploadTaskOnProgressUpdate:function(id){
        window.KSWASMSDK.KSUploadTaskOnProgressUpdate(_KSPointer_stringify_adaptor(id));
    },
    KSStat: function (conf, callbackId) {
        window.KSWASMSDK.KSStat(_KSPointer_stringify_adaptor(conf), _KSPointer_stringify_adaptor(callbackId))
    },
    KS_GetGameRecorder:function() {
        var res = window.KSWASMSDK.KS_GetGameRecorder();
        var bufferSize = lengthBytesUTF8(res || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_GameRecorderOff:function(id, eventType){
        window.KSWASMSDK.KS_GameRecorderOff(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(eventType));
    },
    KS_GameRecorderOn:function(id, eventType){
        window.KSWASMSDK.KS_GameRecorderOn(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(eventType));
    },
    KS_GameRecorderStart:function(id,option){
        window.KSWASMSDK.KS_GameRecorderStart(_KSPointer_stringify_adaptor(id),_KSPointer_stringify_adaptor(option));
    },
    KS_GameRecorderAbort:function(id){
        window.KSWASMSDK.KS_GameRecorderAbort(_KSPointer_stringify_adaptor(id));
    },
    KS_GameRecorderPause:function(id){
        window.KSWASMSDK.KS_GameRecorderPause(_KSPointer_stringify_adaptor(id));
    },
    KS_GameRecorderResume:function(id){
        window.KSWASMSDK.KS_GameRecorderResume(_KSPointer_stringify_adaptor(id));
    },
    KS_GameRecorderStop:function(id){
        window.KSWASMSDK.KS_GameRecorderStop(_KSPointer_stringify_adaptor(id));
    },
    KS_GameRecorderPublishVideo:function(id, option, callbackId){
        window.KSWASMSDK.KS_GameRecorderPublishVideo(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },  
    KS_OperateGameRecorderVideo:function(option){
        window.KSWASMSDK.KS_OperateGameRecorderVideo(_KSPointer_stringify_adaptor(option));
    },
    KSChatCreate: function (option) {
        var returnStr = window.KSWASMSDK.KSChatCreate(_KSPointer_stringify_adaptor(option));
        var bufferSize = lengthBytesUTF8(returnStr || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(returnStr, buffer, bufferSize);
        return buffer;
    },
    KSChatHide: function () {
        window.KSWASMSDK.KSChatHide();
    },
    KSChatShow: function (option) {
        window.KSWASMSDK.KSChatShow(_KSPointer_stringify_adaptor(option));
    },
    KSChatClose: function () {
        window.KSWASMSDK.KSChatClose();
    },
    KSChatOpen: function (pageKey) {
        window.KSWASMSDK.KSChatOpen(_KSPointer_stringify_adaptor(pageKey));
    },
    KSChatSetTabs: function (pageKeys) {
        window.KSWASMSDK.KSChatSetTabs(_KSPointer_stringify_adaptor(pageKeys));
    },
    KSChatOn: function (eventType) {
        window.KSWASMSDK.KSChatOn(_KSPointer_stringify_adaptor(eventType));
    },
    KSChatOff: function (eventType) {
        window.KSWASMSDK.KSChatOff(_KSPointer_stringify_adaptor(eventType));
    },
    KSChatSetSignature: function (signature) {
        window.KSWASMSDK.KSChatSetSignature(_KSPointer_stringify_adaptor(signature));
    },
    KSSetArrayBuffer: function (offset,callbackId){
        window.KSWASMSDK.KSSetArrayBuffer(
            HEAPU8,
            offset,
            _KSPointer_stringify_adaptor(callbackId)
        )
    },
    KS_FileSystemManagerAppendFileSync:function(filePath, data, dataLength, encoding) {
        window.KSWASMSDK.KS_FileSystemManagerAppendFileSync(
            _KSPointer_stringify_adaptor(filePath),
            HEAPU8.slice(data, dataLength + data),
            _KSPointer_stringify_adaptor(encoding)
        );
    },
    KS_FileSystemManagerAppendFileStringSync:function(filePath, data, encoding) {
        window.KSWASMSDK.KS_FileSystemManagerAppendFileStringSync(_KSPointer_stringify_adaptor(filePath), _KSPointer_stringify_adaptor(data), _KSPointer_stringify_adaptor(encoding));
    },
    KS_FileSystemManagerReaddirSync:function(dirPath) {
        var res = window.KSWASMSDK.KS_FileSystemManagerReaddirSync(_KSPointer_stringify_adaptor(dirPath));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerReadCompressedFileSync:function(option, callbackId) {
        var res = window.KSWASMSDK.KS_FileSystemManagerReadCompressedFileSync(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerClose:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerClose(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerFstat:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerFstat(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerFtruncate:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerFtruncate(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerGetFileInfo:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerGetFileInfo(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerGetSavedFileList:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerGetSavedFileList(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerOpen:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerOpen(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerRead:function(option, data, dataLength, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerRead(_KSPointer_stringify_adaptor(option), HEAPU8.slice(data, dataLength + data), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerReadCompressedFile:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerReadCompressedFile(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerReadZipEntry:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerReadZipEntry(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerReadZipEntryString:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerReadZipEntryString(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerReaddir:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerReaddir(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerRemoveSavedFile:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerRemoveSavedFile(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerRename:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerRename(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerSaveFile:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerSaveFile(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerTruncate:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerTruncate(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerUnzip:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerUnzip(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerWrite:function(option, data, dataLength, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerWrite(_KSPointer_stringify_adaptor(option), HEAPU8.slice(data, dataLength + data), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerWriteString:function(option, callbackId) {
        window.KSWASMSDK.KS_FileSystemManagerWriteString(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
    },
    KS_FileSystemManagerRenameSync:function(oldPath, newPath) {
        window.KSWASMSDK.KS_FileSystemManagerRenameSync(_KSPointer_stringify_adaptor(oldPath), _KSPointer_stringify_adaptor(newPath));
    },
    KS_FileSystemManagerReadSync:function(option, callbackId) {
        var res = window.KSWASMSDK.KS_FileSystemManagerReadSync(_KSPointer_stringify_adaptor(option), _KSPointer_stringify_adaptor(callbackId));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerFstatSync:function(option) {
        var res = window.KSWASMSDK.KS_FileSystemManagerFstatSync(_KSPointer_stringify_adaptor(option));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerStatSync:function(path, recursive) {
        var res = window.KSWASMSDK.KS_FileSystemManagerStatSync(_KSPointer_stringify_adaptor(path), recursive);
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerWriteSync:function(option, data, dataLength) {
        var res = window.KSWASMSDK.KS_FileSystemManagerWriteSync(_KSPointer_stringify_adaptor(option), HEAPU8.slice(data, dataLength + data));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerWriteStringSync:function(option) {
        var res = window.KSWASMSDK.KS_FileSystemManagerWriteStringSync(_KSPointer_stringify_adaptor(option));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerOpenSync:function(option) {
        var res = window.KSWASMSDK.KS_FileSystemManagerOpenSync(_KSPointer_stringify_adaptor(option));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerSaveFileSync:function(tempFilePath, filePath) {
        var res = window.KSWASMSDK.KS_FileSystemManagerSaveFileSync(_KSPointer_stringify_adaptor(tempFilePath), _KSPointer_stringify_adaptor(filePath));
        var bufferSize = lengthBytesUTF8(res) + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_FileSystemManagerCloseSync:function(option) {
        window.KSWASMSDK.KS_FileSystemManagerCloseSync(_KSPointer_stringify_adaptor(option));
    },
    KS_FileSystemManagerFtruncateSync:function(option) {
        window.KSWASMSDK.KS_FileSystemManagerFtruncateSync(_KSPointer_stringify_adaptor(option));
    },
    KS_FileSystemManagerTruncateSync:function(option) {
        window.KSWASMSDK.KS_FileSystemManagerTruncateSync(_KSPointer_stringify_adaptor(option));
    },
    KSVideoSetProperty: function(id, key, value) {
        window.KSWASMSDK.KSVideoSetProperty(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(key), _KSPointer_stringify_adaptor(value));
    },
    KS_OnNeedPrivacyAuthorization:function() {
        window.KSWASMSDK.KS_OnNeedPrivacyAuthorization();
    },
    KS_PrivacyAuthorizeResolve: function(option) {
        window.KSWASMSDK.KS_PrivacyAuthorizeResolve(_KSPointer_stringify_adaptor(option));
    },
    KSLaunchOperaBridge: function(req) {
        var res = window.KSWASMSDK.KSLaunchOperaBridge(_KSPointer_stringify_adaptor(req));
        if (res) {
            var bufferSize = lengthBytesUTF8(res) + 1;
            var buffer = _malloc(bufferSize);
            stringToUTF8(res, buffer, bufferSize);
            return buffer;
        }
    },
    KSCanIUse: function(key) {
        if (!key || !_KSPointer_stringify_adaptor(key)) {
            return false;
        }
        const keyString = _KSPointer_stringify_adaptor(key);
        return typeof ks[keyString[0].toLowerCase() + keyString.slice(1)] !== 'undefined';
    },
    KS_OnBLECharacteristicValueChange: function() {
        window.KSWASMSDK.KS_OnBLECharacteristicValueChange();
    },
    KS_OffBLECharacteristicValueChange: function() {
        window.KSWASMSDK.KS_OffBLECharacteristicValueChange();
    },
    KS_RegisterOnBLECharacteristicValueChangeCallback: function(callback) {
        window.KSWASMSDK.KS_RegisterOnBLECharacteristicValueChangeCallback(callback);
    },
    KS_SetDevicePixelRatio: function(ratio) {
        window.devicePixelRatio = ratio;
    }
});

var KSTCPSocketLibrary = 
{
    KS_CreateTCPSocket:function() {
        var res = window.KSWASMSDK.KS_CreateTCPSocket();
        var bufferSize = lengthBytesUTF8(res || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_TCPSocketBindWifi:function(id, option) {
        window.KSWASMSDK.KS_TCPSocketBindWifi(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(option));
    },
    KS_TCPSocketClose:function(id) {
        window.KSWASMSDK.KS_TCPSocketClose(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketConnect:function(id, option) {
        window.KSWASMSDK.KS_TCPSocketConnect(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(option));
    },
    KS_TCPSocketWriteString:function(id, data) {
        window.KSWASMSDK.KS_TCPSocketWriteString(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(data));
    },
    KS_TCPSocketWriteBuffer:function(id, dataPtr, dataLength) {
        window.KSWASMSDK.KS_TCPSocketWriteBuffer(_KSPointer_stringify_adaptor(id), dataPtr, dataLength);
    },
    KS_TCPSocketOffBindWifi:function(id) {
        window.KSWASMSDK.KS_TCPSocketOffBindWifi(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOffClose:function(id) {
        window.KSWASMSDK.KS_TCPSocketOffClose(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOffConnect:function(id) {
        window.KSWASMSDK.KS_TCPSocketOffConnect(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOffError:function(id) {
        window.KSWASMSDK.KS_TCPSocketOffError(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOffMessage:function(id) {
        window.KSWASMSDK.KS_TCPSocketOffMessage(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOnBindWifi:function(id) {
        window.KSWASMSDK.KS_TCPSocketOnBindWifi(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOnClose:function(id) {
        window.KSWASMSDK.KS_TCPSocketOnClose(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOnConnect:function(id) {
        window.KSWASMSDK.KS_TCPSocketOnConnect(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOnError:function(id) {
        window.KSWASMSDK.KS_TCPSocketOnError(_KSPointer_stringify_adaptor(id));
    },
    KS_TCPSocketOnMessage:function(id, needInfo) {
        window.KSWASMSDK.KS_TCPSocketOnMessage(_KSPointer_stringify_adaptor(id), needInfo);
    },
    KS_RegisterTCPSocketOnMessageCallback:function(callback) {
        window.KSWASMSDK.KS_RegisterTCPSocketOnMessageCallback(callback);
    },
};

mergeInto(LibraryManager.library, KSTCPSocketLibrary);


var KSTouchLibrary = 
{
  KS_OnTouchCancel: function() {
      window.KSWASMSDK.KS_OnTouchCancel();
  },
  KS_OffTouchCancel: function() {
      window.KSWASMSDK.KS_OffTouchCancel();
  },
  KS_OnTouchEnd: function() {
      window.KSWASMSDK.KS_OnTouchEnd();
  },
  KS_OffTouchEnd: function() {
      window.KSWASMSDK.KS_OffTouchEnd();
  },
  KS_OnTouchMove: function() {
      window.KSWASMSDK.KS_OnTouchMove();
  },
  KS_OffTouchMove: function() {
      window.KSWASMSDK.KS_OffTouchMove();
  },
  KS_OnTouchStart: function() {
      window.KSWASMSDK.KS_OnTouchStart();
  },
  KS_OffTouchStart: function() {
      window.KSWASMSDK.KS_OffTouchStart();
  },
  KS_RegisterOnTouchCancelCallback: function(callback) {
    window.KSWASMSDK.KS_RegisterOnTouchCancelCallback(callback);
  },
  KS_RegisterOnTouchEndCallback: function(callback) {
    window.KSWASMSDK.KS_RegisterOnTouchEndCallback(callback);
  },
  KS_RegisterOnTouchMoveCallback: function(callback) {
    window.KSWASMSDK.KS_RegisterOnTouchMoveCallback(callback);
  },
  KS_RegisterOnTouchStartCallback: function(callback) {
    window.KSWASMSDK.KS_RegisterOnTouchStartCallback(callback);
  },
};

mergeInto(LibraryManager.library, KSTouchLibrary);

var KSUDPSocketLibrary = 
{
    KS_CreateUDPSocket:function() {
        var res = window.KSWASMSDK.KS_CreateUDPSocket();
        var bufferSize = lengthBytesUTF8(res || '') + 1;
        var buffer = _malloc(bufferSize);
        stringToUTF8(res, buffer, bufferSize);
        return buffer;
    },
    KS_UDPSocketClose:function(id) {
        window.KSWASMSDK.KS_UDPSocketClose(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketConnect:function(id, option) {
        window.KSWASMSDK.KS_UDPSocketConnect(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(option));
    },
    KS_UDPSocketOffClose:function(id) {
        window.KSWASMSDK.KS_UDPSocketOffClose(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOffError:function(id) {
        window.KSWASMSDK.KS_UDPSocketOffError(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOffListening:function(id) {
        window.KSWASMSDK.KS_UDPSocketOffListening(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOffMessage:function(id) {
        window.KSWASMSDK.KS_UDPSocketOffMessage(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOnClose:function(id) {
        window.KSWASMSDK.KS_UDPSocketOnClose(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOnError:function(id) {
        window.KSWASMSDK.KS_UDPSocketOnError(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOnListening:function(id) {
        window.KSWASMSDK.KS_UDPSocketOnListening(_KSPointer_stringify_adaptor(id));
    },
    KS_UDPSocketOnMessage:function(id, needInfo) {
        window.KSWASMSDK.KS_UDPSocketOnMessage(_KSPointer_stringify_adaptor(id), needInfo);
    },
    KS_UDPSocketSendString:function(id, data, param) {
        window.KSWASMSDK.KS_UDPSocketSendString(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(data), _KSPointer_stringify_adaptor(param));
    },
    KS_UDPSocketSendBuffer:function(id, dataPtr, dataLength, param) {
        window.KSWASMSDK.KS_UDPSocketSendBuffer(_KSPointer_stringify_adaptor(id), dataPtr, dataLength, _KSPointer_stringify_adaptor(param));
    },
    KS_UDPSocketSetTTL:function(id, ttl) {
        window.KSWASMSDK.KS_UDPSocketSetTTL(_KSPointer_stringify_adaptor(id), ttl);
    },
    KS_UDPSocketWriteString:function(id, data, param) {
        window.KSWASMSDK.KS_UDPSocketWriteString(_KSPointer_stringify_adaptor(id), _KSPointer_stringify_adaptor(data), _KSPointer_stringify_adaptor(param));
    },
    KS_UDPSocketWriteBuffer:function(id, dataPtr, dataLength, param) {
        window.KSWASMSDK.KS_UDPSocketWriteBuffer(_KSPointer_stringify_adaptor(id), dataPtr, dataLength, _KSPointer_stringify_adaptor(param));
    },
    KS_UDPSocketBind:function(id, port) {
        var res = window.KSWASMSDK.KS_UDPSocketBind(_KSPointer_stringify_adaptor(id), port);
        return res;
    },
    KS_RegisterUDPSocketOnMessageCallback:function(callback) {
        window.KSWASMSDK.KS_RegisterUDPSocketOnMessageCallback(callback);
    }
};

mergeInto(LibraryManager.library, KSUDPSocketLibrary);


var KSAssetBundleLibrary = {
  $KSFS: {},

  KSFSInit: function (ttl, capacity) {
    function _instanceof(left, right) { if (right != null && typeof Symbol !== "undefined" && right[Symbol.hasInstance]) { return !!right[Symbol.hasInstance](left); } else { return left instanceof right; } }
    function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
    function _classCallCheck(instance, Constructor) { if (!_instanceof(instance, Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
    function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
    function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
    function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
    function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
    var KSMap = /*#__PURE__*/function () {
      function KSMap(hash, rename) {
        _classCallCheck(this, KSMap);
        this.hash = hash;
        this.rename = rename;
        this.size = 0;
      }
      _createClass(KSMap, [{
        key: "get",
        value: function get(key) {
          return this.hash.get(this.rename(key));
        }
      }, {
        key: "set",
        value: function set(key, value) {
          this.delete(key);
          this.size += value;
          return this.hash.set(this.rename(key), value);
        }
      }, {
        key: "has",
        value: function has(key) {
          return this.hash.has(this.rename(key));
        }
      }, {
        key: "delete",
        value: function _delete(key) {
          this.size -= this.hash.get(this.rename(key))|0;
          return this.hash.delete(this.rename(key));
        }
      }]);
      return KSMap;
    }();
    KSFS.KSABErrorSteps = {
      "kWebRequestResponse": 0,
      "kLoadBundleFromFile": 1,
      "kCacheGet" : 2
    };
    KSFS.disk = new KSMap(unityNamespace.KSAssetBundles,unityNamespace.PathInFileOS);
    KSFS.msg = "";
    KSFS.fd2ksStream = new Map;
    KSFS.path2fd = new Map;
    KSFS.fs = ks.getFileSystemManager();
    KSFS.nowfd = FS.MAX_OPEN_FDS + 1;
    KSFS.isKSAssetBundle = function(url){
      if(KSFS._url2path.has(url)||url.startsWith(GameGlobal.unityNamespace.DATA_CDN)||url.startsWith('/vfs_streamingassets')){
        return unityNamespace.isKSAssetBundle(KSFS.url2path(url));
      }
      return unityNamespace.isKSAssetBundle(url);
    }
    KSFS.newfd = function(){
      return KSFS.nowfd++;
    }
    KSFS.doKSAccess = function(path, amode){
      if (amode & ~7) {
        return -28;
      }
      try{
        KSFS.fs.accessSync(path);
      } catch(e){
        return -44;
      }
      return 0
    }
    
    var KSFileCache = /*#__PURE__*/function () {
      function KSFileCache(ttl, capacity) {
        _classCallCheck(this, KSFileCache);
        this.ttl = ttl;
        if (capacity > 0) this.capacity = capacity;
        this.hash = new Map();
        this.size = 0;
        this.maxSize = 0;
        this.obsolete = "";
      }
      // record obsolete file path when file not found
      _createClass(KSFileCache, [{
        key: "record",
        value: function record(path) {
          if (!this.obsolete.includes(path)) {
            if (this.obsolete != "") this.obsolete += ";";
            this.obsolete += path;
          }
        }
      }, {
        key: "get",
        value: function get(key) {
          var temp = this.hash.get(key);
          if (temp !== undefined) {
            if(temp.cleanable && unityNamespace.isAndroid && temp.time + this.ttl * 1000 < Date.now()){
              try {
                var check_path = KSFS.fd2ksStream.get(key).path
                if(!GameGlobal.manager.getCachePath(check_path)){
                  throw new Error("No such file in the ks cache system")
                }
                KSFS.fs.statSync(check_path)
              } catch (e) {
                GameGlobal.manager.reporter.ksAssetBundle.reportEmptyContent({stage: KSFS.KSABErrorSteps['kCacheGet'], path: check_path, error: !!e ? e.toString() : 'unknown'});
                GameGlobal.manager.Logger.pluginLog('[KSAssetBundle]Android statSync path: ' + check_path + ' error: ' + (!!e ? e.toString() : 'unknown'));
              }
            }
            this.hash.delete(key);
            temp.time = Date.now();
            this.hash.set(key, temp);
            return temp.ab;
          }
          return -1;
        }
      }, {
        key: "put",
        value: function put(key, ab, cleanable) {
          if(!ab)return;
          cleanable = cleanable != undefined ? cleanable : true;
          var value = {
            ab: ab,
            time: Date.now(),
            cleanable: cleanable
          };
          var temp = this.hash.get(key);
          if (temp !== undefined) {
            this.size -= temp.ab.byteLength;
            this.hash.delete(key);
            this.hash.set(key, value);
          } else {
            if (this.capacity !== undefined && this.size >= this.capacity) {
              var idx = this.hash.keys().next().value;
              this.size -= idx.ab.byteLength;
              this.hash.delete(idx);
              this.hash.set(key, value);
            } else {
              this.hash.set(key, value);
            }
          }
          this.size += value.ab.byteLength;
          this.maxSize = Math.max(this.size, this.maxSize);
        }
      }, {
        key: "cleanable",
        value: function cleanable(key, _cleanable) {
          _cleanable = _cleanable != undefined ? _cleanable : true;
          var temp = this.hash.get(key);
          if (temp !== undefined) {
            // this.hash.delete(key);
            // temp.time = Date.now();
            temp.cleanable = _cleanable;
            this.hash.set(key, temp);
            return 0;
          } else {
            return -1;
          }
        }
      }, {
        key: "cleanbytime",
        value: function cleanbytime(deadline) {
          var iter = this.hash.keys(),
            key,
            value;
          while ((key = iter.next().value) != undefined && (value = this.hash.get(key)).time < deadline) {
            if (value.cleanable) {
              this.size -= value.ab.byteLength;
              this.hash.delete(key);
            }
          }
        }
      }, {
        key: "RegularCleaning",
        value: function RegularCleaning(kIntervalSecond) {
          var _this = this;
          setInterval(function () {
            _this.cleanbytime(Date.now() - _this.ttl * 1000);
          }, kIntervalSecond * 1000);
        }
      }, {
        key: "delete",
        value: function _delete(key) {
            this.size -= this.hash.get(key).ab.byteLength;
            return this.hash.delete(key)
        }
      }, {
        key: "has",
        value: function _has(key) {
            return this.hash.has(key)
        }
      }
      ]);
      return KSFileCache;
    }();
    
    KSFS.cache = new KSFileCache(ttl, capacity);
    if(!unityNamespace.isAndroid) {
      KSFS.cache.RegularCleaning(1);
    }

    KSFS.ksstat = function(path){
      try {
        var fd = KSFS.path2fd.get(path)
        if (fd !== undefined){
          var stat = {
            mode: 33206,
            size: KSFS.cache.get(fd).byteLength,
            dev: 1,
            ino: 1,
            nlink: 1,
            uid: 0,
            gid: 0,
            rdev: 0,
            atime: new Date(),
            mtime: new Date(0),
            ctime: new Date(),
            blksize: 4096
          }
          stat.blocks = Math.ceil(stat.size / stat.blksize);
          return stat;
        }
        var stat = KSFS.fs.statSync(path);
        // something not in ks.FileSystemManager, just fill in 0/1
        stat.dev = 1;
        stat.ino = 1;
        stat.nlink = 1;
        stat.uid = 0;
        stat.gid = 0;
        stat.rdev = 0;
        stat.atime = new Date(stat.lastAccessedTime * 1000);
        stat.mtime = new Date(0); // if update modified time, wasm will log error "Archive file was modified when opened"
        stat.ctime = new Date(stat.lastModifiedTime * 1000); // time of permission modification, just use mtime to instand
        delete stat.lastAccessedTime;
        delete stat.lastModifiedTime;
        stat.blksize = 4096;
        stat.blocks = Math.ceil(stat.size / stat.blksize);
        return stat;
      } catch (e){
        console.error(e)
        throw e;
      }
    }
    KSFS._url2path = new Map();
    KSFS.url2path = function(url) {
      if(KSFS._url2path.has(url)){
        return KSFS._url2path.get(url);
      }
      url = url.replaceAll(' ', '%20')
      if(url.startsWith('/vfs_streamingassets/')){
        var path = url.replace('/vfs_streamingassets/', ks.env.USER_DATA_PATH + "/__GAME_FILE_CACHE/StreamingAssets/");
      }
      else{
        var path = url.replace(GameGlobal.unityNamespace.DATA_CDN, ks.env.USER_DATA_PATH+'/__GAME_FILE_CACHE/');
      }
      if(path.indexOf('?') > -1){
        path = path.substring(0,path.indexOf("?"));
      }
      KSFS._url2path.set(url, path);
      return path;
    };
    KSFS.LoadBundleFromFile = function(path){
      try {
        var res = KSFS.fs.readFileSync(path);
      } catch(e) {
        var err_msg = !!e ? e.toString() : 'unknown';
      }
      var expected_size = KSFS.disk.get(path);
      if(!res || res.byteLength != expected_size){
        var ksab_error = {
          stage: KSFS.KSABErrorSteps['kLoadBundleFromFile'],
          path: path,
          size: (!!res ? res.byteLength : 0),
          expected_size: expected_size,
          error: err_msg
        };
        GameGlobal.manager.reporter.ksAssetBundle.reportEmptyContent(ksab_error);
        GameGlobal.manager.Logger.pluginLog('[KSAssetBundle]readFileSync at path ' + path + ' return size ' + (!!res?res.byteLength:0) + ', different from expected size ' + expected_size + ' error: ' + err_msg);
        ks.setStorageSync("ksfs_unserviceable",true);
        GameGlobal.onCrash();
        return "";
      }
      return res;
    };
    KSFS.read = function(stream, buffer, offset, length, position){
      var contents = KSFS.cache.get(stream.fd);
      if (contents === -1) {
        var res = KSFS.LoadBundleFromFile(stream.path);
        KSFS.cache.put(stream.fd, res);
        contents = res;
      }
      if (position >= stream.node.usedBytes) return 0;
      var size = Math.min(stream.node.usedBytes - position, length);
      assert(size >= 0);
      buffer.set(new Uint8Array(contents.slice(position, position + size)), offset);
      return size;
    };
  },

  GetObsoleteFilePath: function () {
    var bufferSize = lengthBytesUTF8(KSFS.cache.obsolete) + 1;
    var buffer = _malloc(bufferSize);
    stringToUTF8(KSFS.cache.obsolete, buffer, bufferSize);
    KSFS.cache.obsolete = "";
    return buffer;
  },

  UnCleanbyPath: function (ptr) {
    var url = UTF8ToString(ptr);
    var path = KSFS.url2path(url);
    if(!KSFS.disk.has(path)){
      KSFS.disk.set(path, 0);
    }
  },

  UnloadbyPath: function (ptr) {
    var path = KSFS.url2path(UTF8ToString(ptr));
    var fd = KSFS.path2fd.get(path);
    if(KSFS.cache.has(fd)){
      KSFS.cache.delete(fd);
    }
    if(KSFS.disk.has(path)){
      KSFS.disk.delete(path);
    }
  },

  CheckKSFSReady: function () {
    return KSFS.fs!==undefined;
  },

  KSGetBundleFromXML: function(url, id, callback, needRetry){
    needRetry = needRetry?needRetry:true;
    var _url = UTF8ToString(url);
    var _id = UTF8ToString(id);
    var len = lengthBytesUTF8(_id) + 1;
    var idPtr = _malloc(len);
    stringToUTF8(_id, idPtr, len);
    var xhr = new GameGlobal.unityNamespace.UnityLoader.UnityCache.XMLHttpRequest;
    xhr.open('GET', _url, true);
    xhr.responseType = "arraybuffer";
    xhr.onload = function (e) {
      if (xhr.status >= 400 && needRetry) {
        setTimeout(function () {
          _KSGetBundleFromXML(url, false);
        }, 1000);
        xhr=null;
        return false;
      }
      if (callback) {
        var kWebRequestOK = 0;
        var kNoResponseBuffer = 1111;
        var xhrByteArray = new Uint8Array(xhr.response);
        if (xhrByteArray.length != 0) {
          var arrayBuffer = xhr.response;
          var path = KSFS.url2path(_url);
          var numberfd = KSFS.path2fd.get(path);
          if (numberfd == undefined) {
            numberfd = KSFS.newfd();
            KSFS.path2fd.set(path, numberfd);
          }
          var ksStream = KSFS.fd2ksStream.get(numberfd);
          if (ksStream == undefined) {
            ksStream = {
              fd: numberfd,
              path: path,
              seekable: true,
              position: 0,
              stream_ops: MEMFS.stream_ops,
              ungotten: [],
              node:{mode:32768,usedBytes:xhrByteArray.length},
              error: false
            };
            ksStream.stream_ops.read = KSFS.read;
            KSFS.fd2ksStream.set(numberfd, ksStream);
          }
          KSFS.cache.put(numberfd, arrayBuffer, xhr.isReadFromCache);
          KSFS.disk.set(path, xhrByteArray.length);
          dynCall("viii", callback, [idPtr, kWebRequestOK, 0]);
          if(xhr.isReadFromCache){
            _free(idPtr);
          }
        } else {
          dynCall('viii', callback, [idPtr, kNoResponseBuffer, 0]);
          _free(idPtr);
        }
      }
    };
    xhr.onsave = function xhr_onsave(e){
      KSFS.cache.cleanable(KSFS.path2fd.get(e));
      _free(idPtr);
    }
    function XHRHandleError(err, code) {
      if (needRetry) {
        return setTimeout(function () {
          _KSGetBundleFromXML(url, false);
        }, 1e3);
      }
      if (callback) {
        var len = lengthBytesUTF8(err) + 1;
        var buffer = _malloc(len);
        stringToUTF8(err, buffer, len);
        dynCall("viii", callback, [idPtr, code, buffer]);
        _free(buffer);
        _free(idPtr);
      }
    }
    xhr.onerror = function xhr_onerror(e) {
      var kWebErrorUnknown = 2;
      XHRHandleError("Unknown error.", kWebErrorUnknown);
    };
    xhr.ontimeout = function xhr_onerror(e) {
      var kWebErrorTimeout = 14;
      XHRHandleError("Connection timed out.", kWebErrorTimeout);
    };
    xhr.onabort = function xhr_onerror(e) {
      var kWebErrorAborted = 17;
      XHRHandleError("Aborted.", kWebErrorAborted);
    }
    xhr.send();
  },

  KSGetBundleNumberInMemory: function () { 
    return KSFS&&KSFS.cache&&KSFS.cache.hash&&KSFS.cache.hash.size; 
  },
  KSGetBundleNumberOnDisk: function () { 
    return KSFS&&KSFS.disk&&KSFS.disk.hash&&KSFS.disk.hash.size; 
  },
  KSGetBundleSizeInMemory: function () { 
    return KSFS&&KSFS.cache&&KSFS.cache.size; 
  },
  KSGetBundleSizeOnDisk: function () { 
    return KSFS&&KSFS.disk&&KSFS.disk.size; 
  }
};

autoAddDeps(KSAssetBundleLibrary, '$KSFS');
mergeInto(LibraryManager.library, KSAssetBundleLibrary);

var WebAesLibrary = {
  $aesManager: {
    instance: null,
    mode: 0,
    padding: null,
    encCallback: null,
    decCallback: null,
  },

  WebAesInitialize: function (
    mode,
    keyBuffer,
    keySize,
    ivBuffer,
    ivSize,
    encCallback,
    decCallback,
    counter,
    segmentSize
  ) {
    if (typeof window === "undefined" || !window.aesjs) {
      throw new Error("Fail to initialize WebAES. window.aesjs not found.");
    }
    var aesjs = window.aesjs;
    var key = new Uint8Array(Module.HEAPU8.buffer, keyBuffer, keySize);
    var iv = new Uint8Array(Module.HEAPU8.buffer, ivBuffer, ivSize);
    switch (mode) {
      case 1: // CBC
        aesManager.instance = new aesjs.ModeOfOperation.cbc(key, iv);
        break;
      case 2: // ECB
        aesManager.instance = new aesjs.ModeOfOperation.ecb(key);
        break;
      case 3: // OFB
        aesManager.instance = new aesjs.ModeOfOperation.ofb(key, iv);
        break;
      case 4: // CFB
        aesManager.instance = new aesjs.ModeOfOperation.cfb(
          key,
          iv,
          segmentSize
        );
        break;
      case 5:
        break; // Reserved for CTS
      case 6: // CTR, Not used by interop yet
        aesManager.instance = new aesjs.ModeOfOperation.ctr(key, counter);
        break;
      default:
        // Default to ECB
        aesManager.instance = new aesjs.ModeOfOperation.ecb(key);
    }
    aesManager.encCallback = encCallback;
    aesManager.decCallback = decCallback;
  },
  WebAesFinalize: function () {
    aesManager = {
      instance: null,
      mode: 0,
      padding: null,
      encCallback: null,
      decCallback: null,
    };
  },
  WebAesEncrypt: function (plainPtr, size, needPad) {
    if (aesManager.instance === null) {
      throw new Error("Must call initialize before encrypt");
    }
    var key = new Uint8Array(Module.HEAPU8.buffer, plainPtr, size);
    if (needPad) {
      key = aesjs.padding.pkcs7.pad(key);
    }
    // result is Uint8Array
    var result = aesManager.instance.encrypt(key);
    var buffer = _malloc(result.length);
    HEAPU8.set(result, buffer);
    try {
      if (aesManager.encCallback) {
        Module.dynCall_viii(aesManager.encCallback, 1, buffer, result.length);
      }
    } finally {
      _free(buffer);
    }
  },
  WebAesDecrypt: function (cipherPtr, size, needStrip) {
    if (aesManager.instance === null) {
      throw new Error("Must call initialize before decrypt");
    }
    var key = new Uint8Array(Module.HEAPU8.buffer, cipherPtr, size);
    // result is Uint8Array
    var result = aesManager.instance.decrypt(key, needStrip);
    if (needStrip) {
      result = aesjs.padding.pkcs7.strip(result);
    }
    var buffer = _malloc(result.length);
    HEAPU8.set(result, buffer);
    try {
      if (aesManager.decCallback) {
        Module.dynCall_viii(aesManager.decCallback, 0, buffer, result.length);
      }
    } finally {
      _free(buffer);
    }
  },
};

autoAddDeps(WebAesLibrary, "$aesManager");
mergeInto(LibraryManager.library, WebAesLibrary);

mergeInto(LibraryManager.library, {
  _KSPointer_stringify_adaptor:function(str){
    if (typeof UTF8ToString !== "undefined") {
        return UTF8ToString(str)
    }
    return Pointer_stringify(str)
  },
  DumpUICallback: function (str) {
    if(typeof GameGlobal!='undefined'){
      GameGlobal.monkeyCallback(_KSPointer_stringify_adaptor(str));
    }
  },
  GetScreenSizeCallback: function(width, height){
    if(typeof GameGlobal!='undefined'){
      GameGlobal.monkeyCallback([width, height]);
    }
  },
  GetUnityVersionCallback: function(version){
    if(typeof GameGlobal!='undefined'){
      GameGlobal.monkeyCallback(_KSPointer_stringify_adaptor(version));
    }
  },
  GetUnityFrameRateCallback: function(rate){
    if(typeof GameGlobal!='undefined'){
      GameGlobal.monkeyCallback(rate)
    }
  },
  GetUnityCacheDetailCallback: function(str) {
    if(typeof GameGlobal!='undefined'){
      GameGlobal.monkeyCallback(_KSPointer_stringify_adaptor(str));
    }
  },
  SetUnityUIType: function(str){
    if(typeof GameGlobal!='undefined'){
      GameGlobal.UnityUIType = _KSPointer_stringify_adaptor(str);
    }
  },
  DumpProfileStatsCallback: function(str){
     if(typeof GameGlobal!='undefined') {
       GameGlobal.monkeyCallback(_KSPointer_stringify_adaptor(str));
     }
  }
});



var KSGyroscopeLibrary = 
{
    KS_StartGyroscope: function(callbackId, option) {
        window.KSWASMSDK.KS_StartGyroscope(_KSPointer_stringify_adaptor(callbackId), _KSPointer_stringify_adaptor(option));
    },
    KS_StopGyroscope: function(callbackId) {
        window.KSWASMSDK.KS_StopGyroscope(_KSPointer_stringify_adaptor(callbackId));
    },
    KS_OnGyroscopeChange: function() {
        window.KSWASMSDK.KS_OnGyroscopeChange();
    },
    KS_OffGyroscopeChange: function() {
        window.KSWASMSDK.KS_OffGyroscopeChange();
    },
    KS_RegisterStartGyroscopeCallback: function(callback) {
        window.KSWASMSDK.KS_RegisterStartGyroscopeCallback(callback);
    },
    KS_RegisterStopGyroscopeCallback: function(callback) {
        window.KSWASMSDK.KS_RegisterStopGyroscopeCallback(callback);
    },
    KS_RegisterOnGyroscopeChangeCallback: function(callback) {
        window.KSWASMSDK.KS_RegisterOnGyroscopeChangeCallback(callback);
    },
};

mergeInto(LibraryManager.library, KSGyroscopeLibrary);

mergeInto(LibraryManager.library, {
  _WebMD5: function(rawData, dataLength, result) {
    var data = new Uint8Array(Module.HEAPU8.buffer, rawData, dataLength);
    var md5Result = window.md5WASM(data, true); // Assuming this always returns a Uint8Array of 16 bytes

    Module.HEAPU8.set(md5Result, result);
  }
});


